# Data Modeling

Reflect is a key/value store. Keys are strings and values are any JSON-compatible value.

Values can be up to 128KB in length, but ~1KB is best for performance. Each room can store up to 50MB of data. Writes are automatically persisted continuously.

Use the [Rails helper library](https://www.npmjs.com/package/@rocicorp/rails) to generate typesafe storage functions. For example to generate a `Todo` entity and common functions:

```ts
import { generate } from "@rocicorp/rails";

// Define an entity.
type Todo = {
  id: string;
  text: string;
  completed: boolean;
  sort: number;
};

// Generate common CRUD functions.
export const {
  put: putTodo,
  get: getTodo,
  update: updateTodo,
  delete: deleteTodo,
  list: listTodos,
} = generate<Todo>("todo");
```

The generated functions can be used directly as simple mutators and subscriptions:

```ts
const r = new Reflect({
  mutators: {
    putTodo,
  }
});

r.mutate.putTodo({
  id: nanoid(),
  text: "Finish Reflect beta docs",
  completed: false,
  sort: 42,
});

r.subscribe(listTodos, ...);
```

See the [library's README](https://github.com/rocicorp/rails) for more information.

<div className="showFooter"></div>
